{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Hash160SerEnt = exports.Hash160 = void 0;\nconst vdxf_1 = require(\"../../constants/vdxf\");\nconst address_1 = require(\"../../utils/address\");\nconst bufferutils_1 = require(\"../../utils/bufferutils\");\nconst varuint_1 = require(\"../../utils/varuint\");\nclass Hash160 {\n  constructor(hash = Buffer.alloc(20), version = vdxf_1.I_ADDR_VERSION, varlength = false) {\n    this.hash = hash;\n    this.version = version;\n    this.varlength = varlength;\n  }\n  static getEmpty() {\n    return new Hash160(Buffer.alloc(0), 0, true);\n  }\n  static fromAddress(address, varlength = false) {\n    const base58 = (0, address_1.fromBase58Check)(address);\n    return new Hash160(base58.hash, base58.version, varlength);\n  }\n  toAddress() {\n    if (this.hash.length == 0) {\n      return null;\n    } else return (0, address_1.toBase58Check)(this.hash, this.version);\n  }\n  /**\n   * @deprecated The method has been replaced by getByteLength and will be removed in the future\n   */\n  byteLength() {\n    return this.getByteLength();\n  }\n  getByteLength() {\n    let length = 0;\n    if (this.varlength) {\n      length += varuint_1.default.encodingLength(this.hash.length);\n      length += this.hash.length;\n    } else {\n      length += this.hash.length;\n    }\n    return length;\n  }\n  toBuffer() {\n    const buffer = Buffer.alloc(this.getByteLength());\n    const writer = new bufferutils_1.default.BufferWriter(buffer);\n    if (this.varlength) {\n      writer.writeVarSlice(this.hash);\n    } else {\n      writer.writeSlice(this.hash);\n    }\n    return writer.buffer;\n  }\n  fromBuffer(buffer, varlength = false, offset = 0) {\n    const reader = new bufferutils_1.default.BufferReader(buffer, offset);\n    if (varlength) {\n      this.hash = reader.readVarSlice();\n    } else {\n      this.hash = reader.readSlice(vdxf_1.HASH160_BYTE_LENGTH);\n    }\n    this.version = vdxf_1.I_ADDR_VERSION;\n    this.varlength = varlength;\n    return reader.offset;\n  }\n  toJson() {\n    return {\n      hash: this.hash,\n      version: this.version\n    };\n  }\n}\nexports.Hash160 = Hash160;\nclass Hash160SerEnt extends Hash160 {\n  constructor(hash = Buffer.alloc(20), version = vdxf_1.I_ADDR_VERSION, varlength = false) {\n    super(hash, version, varlength);\n  }\n  fromBuffer(buffer, offset, varlength) {\n    return super.fromBuffer(buffer, varlength, offset);\n  }\n}\nexports.Hash160SerEnt = Hash160SerEnt;","map":{"version":3,"names":["Object","defineProperty","exports","value","Hash160SerEnt","Hash160","vdxf_1","require","address_1","bufferutils_1","varuint_1","constructor","hash","Buffer","alloc","version","I_ADDR_VERSION","varlength","getEmpty","fromAddress","address","base58","fromBase58Check","toAddress","length","toBase58Check","byteLength","getByteLength","default","encodingLength","toBuffer","buffer","writer","BufferWriter","writeVarSlice","writeSlice","fromBuffer","offset","reader","BufferReader","readVarSlice","readSlice","HASH160_BYTE_LENGTH","toJson"],"sources":["/Users/oddfl3x/Code/varB/NATIBridgeWebsite-main/node_modules/verus-typescript-primitives/dist/vdxf/classes/Hash160.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Hash160SerEnt = exports.Hash160 = void 0;\nconst vdxf_1 = require(\"../../constants/vdxf\");\nconst address_1 = require(\"../../utils/address\");\nconst bufferutils_1 = require(\"../../utils/bufferutils\");\nconst varuint_1 = require(\"../../utils/varuint\");\nclass Hash160 {\n    constructor(hash = Buffer.alloc(20), version = vdxf_1.I_ADDR_VERSION, varlength = false) {\n        this.hash = hash;\n        this.version = version;\n        this.varlength = varlength;\n    }\n    static getEmpty() {\n        return new Hash160(Buffer.alloc(0), 0, true);\n    }\n    static fromAddress(address, varlength = false) {\n        const base58 = (0, address_1.fromBase58Check)(address);\n        return new Hash160(base58.hash, base58.version, varlength);\n    }\n    toAddress() {\n        if (this.hash.length == 0) {\n            return null;\n        }\n        else\n            return (0, address_1.toBase58Check)(this.hash, this.version);\n    }\n    /**\n     * @deprecated The method has been replaced by getByteLength and will be removed in the future\n     */\n    byteLength() {\n        return this.getByteLength();\n    }\n    getByteLength() {\n        let length = 0;\n        if (this.varlength) {\n            length += varuint_1.default.encodingLength(this.hash.length);\n            length += this.hash.length;\n        }\n        else {\n            length += this.hash.length;\n        }\n        return length;\n    }\n    toBuffer() {\n        const buffer = Buffer.alloc(this.getByteLength());\n        const writer = new bufferutils_1.default.BufferWriter(buffer);\n        if (this.varlength) {\n            writer.writeVarSlice(this.hash);\n        }\n        else {\n            writer.writeSlice(this.hash);\n        }\n        return writer.buffer;\n    }\n    fromBuffer(buffer, varlength = false, offset = 0) {\n        const reader = new bufferutils_1.default.BufferReader(buffer, offset);\n        if (varlength) {\n            this.hash = reader.readVarSlice();\n        }\n        else {\n            this.hash = reader.readSlice(vdxf_1.HASH160_BYTE_LENGTH);\n        }\n        this.version = vdxf_1.I_ADDR_VERSION;\n        this.varlength = varlength;\n        return reader.offset;\n    }\n    toJson() {\n        return {\n            hash: this.hash,\n            version: this.version,\n        };\n    }\n}\nexports.Hash160 = Hash160;\nclass Hash160SerEnt extends Hash160 {\n    constructor(hash = Buffer.alloc(20), version = vdxf_1.I_ADDR_VERSION, varlength = false) {\n        super(hash, version, varlength);\n    }\n    fromBuffer(buffer, offset, varlength) {\n        return super.fromBuffer(buffer, varlength, offset);\n    }\n}\nexports.Hash160SerEnt = Hash160SerEnt;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}