{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ProvisioningChallenge = void 0;\nconst bufferutils_1 = require(\"../../../utils/bufferutils\");\nconst varuint_1 = require(\"../../../utils/varuint\");\nconst keys_1 = require(\"../../keys\");\nconst Challenge_1 = require(\"../Challenge\");\nconst Hash160_1 = require(\"../Hash160\");\nclass ProvisioningChallenge extends Challenge_1.Challenge {\n  constructor() {\n    let challenge = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      challenge_id: \"\",\n      created_at: 0\n    };\n    super({\n      challenge_id: challenge.challenge_id,\n      created_at: challenge.created_at,\n      salt: challenge.salt,\n      context: challenge.context\n    }, keys_1.LOGIN_CONSENT_PROVISIONING_CHALLENGE_VDXF_KEY.vdxfid);\n    this.name = challenge.name;\n    this.system_id = challenge.system_id;\n    this.parent = challenge.parent;\n  }\n  dataByteLength() {\n    const nameBuf = Buffer.from(this.name, 'utf-8');\n    let length = 0;\n    length += nameBuf.length;\n    length += varuint_1.default.encodingLength(nameBuf.length);\n    length += this.system_id ? Hash160_1.Hash160.fromAddress(this.system_id, true).byteLength() : Hash160_1.Hash160.getEmpty().byteLength();\n    length += this.parent ? Hash160_1.Hash160.fromAddress(this.parent, true).byteLength() : Hash160_1.Hash160.getEmpty().byteLength();\n    return super.dataByteLength() + length;\n  }\n  toDataBuffer() {\n    const superBuf = super.toDataBuffer();\n    const writer = new bufferutils_1.default.BufferWriter(superBuf, super.dataByteLength());\n    writer.writeVarSlice(Buffer.from(this.name, 'utf-8'));\n    writer.writeSlice(this.system_id ? Hash160_1.Hash160.fromAddress(this.system_id, true).toBuffer() : Hash160_1.Hash160.getEmpty().toBuffer());\n    writer.writeSlice(this.parent ? Hash160_1.Hash160.fromAddress(this.parent, true).toBuffer() : Hash160_1.Hash160.getEmpty().toBuffer());\n    return writer.buffer;\n  }\n  fromDataBuffer(buffer, offset) {\n    const challenge = new Challenge_1.Challenge(undefined, keys_1.LOGIN_CONSENT_PROVISIONING_CHALLENGE_VDXF_KEY.vdxfid);\n    let _offset = challenge.fromDataBuffer(buffer, offset);\n    const reader = new bufferutils_1.default.BufferReader(buffer, _offset);\n    this.name = reader.readVarSlice().toString('utf-8');\n    const _system_id = new Hash160_1.Hash160();\n    reader.offset = _system_id.fromBuffer(reader.buffer, true, reader.offset);\n    this.system_id = _system_id.toAddress();\n    const _parent = new Hash160_1.Hash160();\n    reader.offset = _parent.fromBuffer(reader.buffer, true, reader.offset);\n    this.parent = _parent.toAddress();\n    this.challenge_id = challenge.challenge_id;\n    this.created_at = challenge.created_at;\n    this.salt = challenge.salt;\n    this.context = challenge.context;\n    return reader.offset;\n  }\n  // toJson\n  toJson() {\n    return {\n      vdxfkey: this.vdxfkey,\n      challenge_id: this.challenge_id,\n      created_at: this.created_at,\n      salt: this.salt,\n      name: this.name,\n      system_id: this.system_id,\n      parent: this.parent,\n      context: this.context,\n      requested_access: undefined,\n      requested_access_audience: undefined,\n      subject: undefined,\n      provisioning_info: undefined,\n      alt_auth_factors: undefined,\n      session_id: undefined,\n      attestations: undefined,\n      skip: undefined,\n      redirect_uris: undefined\n    };\n  }\n}\nexports.ProvisioningChallenge = ProvisioningChallenge;","map":{"version":3,"names":["Object","defineProperty","exports","value","ProvisioningChallenge","bufferutils_1","require","varuint_1","keys_1","Challenge_1","Hash160_1","Challenge","constructor","challenge","arguments","length","undefined","challenge_id","created_at","salt","context","LOGIN_CONSENT_PROVISIONING_CHALLENGE_VDXF_KEY","vdxfid","name","system_id","parent","dataByteLength","nameBuf","Buffer","from","default","encodingLength","Hash160","fromAddress","byteLength","getEmpty","toDataBuffer","superBuf","writer","BufferWriter","writeVarSlice","writeSlice","toBuffer","buffer","fromDataBuffer","offset","_offset","reader","BufferReader","readVarSlice","toString","_system_id","fromBuffer","toAddress","_parent","toJson","vdxfkey","requested_access","requested_access_audience","subject","provisioning_info","alt_auth_factors","session_id","attestations","skip","redirect_uris"],"sources":["/Users/oddfl3x/Code/varB/vARRRBridgeWebsite-main/node_modules/verus-typescript-primitives/dist/vdxf/classes/provisioning/ProvisioningChallenge.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProvisioningChallenge = void 0;\nconst bufferutils_1 = require(\"../../../utils/bufferutils\");\nconst varuint_1 = require(\"../../../utils/varuint\");\nconst keys_1 = require(\"../../keys\");\nconst Challenge_1 = require(\"../Challenge\");\nconst Hash160_1 = require(\"../Hash160\");\nclass ProvisioningChallenge extends Challenge_1.Challenge {\n    constructor(challenge = { challenge_id: \"\", created_at: 0 }) {\n        super({\n            challenge_id: challenge.challenge_id,\n            created_at: challenge.created_at,\n            salt: challenge.salt,\n            context: challenge.context,\n        }, keys_1.LOGIN_CONSENT_PROVISIONING_CHALLENGE_VDXF_KEY.vdxfid);\n        this.name = challenge.name;\n        this.system_id = challenge.system_id;\n        this.parent = challenge.parent;\n    }\n    dataByteLength() {\n        const nameBuf = Buffer.from(this.name, 'utf-8');\n        let length = 0;\n        length += nameBuf.length;\n        length += varuint_1.default.encodingLength(nameBuf.length);\n        length += this.system_id ? Hash160_1.Hash160.fromAddress(this.system_id, true).byteLength()\n            : Hash160_1.Hash160.getEmpty().byteLength();\n        length += this.parent ? Hash160_1.Hash160.fromAddress(this.parent, true).byteLength()\n            : Hash160_1.Hash160.getEmpty().byteLength();\n        return super.dataByteLength() + length;\n    }\n    toDataBuffer() {\n        const superBuf = super.toDataBuffer();\n        const writer = new bufferutils_1.default.BufferWriter(superBuf, super.dataByteLength());\n        writer.writeVarSlice(Buffer.from(this.name, 'utf-8'));\n        writer.writeSlice(this.system_id\n            ? Hash160_1.Hash160.fromAddress(this.system_id, true).toBuffer()\n            : Hash160_1.Hash160.getEmpty().toBuffer());\n        writer.writeSlice(this.parent\n            ? Hash160_1.Hash160.fromAddress(this.parent, true).toBuffer()\n            : Hash160_1.Hash160.getEmpty().toBuffer());\n        return writer.buffer;\n    }\n    fromDataBuffer(buffer, offset) {\n        const challenge = new Challenge_1.Challenge(undefined, keys_1.LOGIN_CONSENT_PROVISIONING_CHALLENGE_VDXF_KEY.vdxfid);\n        let _offset = challenge.fromDataBuffer(buffer, offset);\n        const reader = new bufferutils_1.default.BufferReader(buffer, _offset);\n        this.name = reader.readVarSlice().toString('utf-8');\n        const _system_id = new Hash160_1.Hash160();\n        reader.offset = _system_id.fromBuffer(reader.buffer, true, reader.offset);\n        this.system_id = _system_id.toAddress();\n        const _parent = new Hash160_1.Hash160();\n        reader.offset = _parent.fromBuffer(reader.buffer, true, reader.offset);\n        this.parent = _parent.toAddress();\n        this.challenge_id = challenge.challenge_id;\n        this.created_at = challenge.created_at;\n        this.salt = challenge.salt;\n        this.context = challenge.context;\n        return reader.offset;\n    }\n    // toJson\n    toJson() {\n        return {\n            vdxfkey: this.vdxfkey,\n            challenge_id: this.challenge_id,\n            created_at: this.created_at,\n            salt: this.salt,\n            name: this.name,\n            system_id: this.system_id,\n            parent: this.parent,\n            context: this.context,\n            requested_access: undefined,\n            requested_access_audience: undefined,\n            subject: undefined,\n            provisioning_info: undefined,\n            alt_auth_factors: undefined,\n            session_id: undefined,\n            attestations: undefined,\n            skip: undefined,\n            redirect_uris: undefined\n        };\n    }\n}\nexports.ProvisioningChallenge = ProvisioningChallenge;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}