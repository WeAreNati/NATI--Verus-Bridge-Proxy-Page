{"ast":null,"code":"var Buffer = require('safe-buffer').Buffer;\nvar varuint = require('varuint-bitcoin');\nvar SmartTransactionSignature = /** @class */function () {\n  function SmartTransactionSignature(version, sigType, pubKeyData, oneSignature) {\n    if (version === void 0) {\n      version = 1;\n    }\n    if (sigType === void 0) {\n      sigType = 1;\n    }\n    this.sigType = sigType;\n    this.pubKeyData = pubKeyData;\n    if (oneSignature != null) {\n      this.oneSignature = oneSignature;\n    } else {\n      this.oneSignature = new Buffer(0);\n    }\n  }\n  SmartTransactionSignature.prototype.fromBuffer = function (buffer, initialOffset) {\n    var offset = initialOffset || 0;\n    function readSlice(n) {\n      offset += n;\n      return buffer.slice(offset - n, offset);\n    }\n    function readUInt8() {\n      var i = buffer.readUInt8(offset);\n      offset += 1;\n      return i;\n    }\n    function readVarInt() {\n      var vi = varuint.decode(buffer, offset);\n      offset += varuint.decode.bytes;\n      return vi;\n    }\n    function readVarSlice() {\n      return readSlice(readVarInt());\n    }\n    this.sigType = readUInt8();\n    this.pubKeyData = readVarSlice();\n    this.oneSignature = readVarSlice();\n    return offset;\n  };\n  SmartTransactionSignature.prototype.__byteLength = function () {\n    return 1 + varuint.encodingLength(this.pubKeyData.length) + this.pubKeyData.length + varuint.encodingLength(this.oneSignature.length) + this.oneSignature.length;\n  };\n  SmartTransactionSignature.prototype.toBuffer = function (buffer, initialOffset) {\n    var noBuffer = !buffer;\n    if (noBuffer) buffer = Buffer.allocUnsafe(this.__byteLength());\n    var offset = initialOffset || 0;\n    function writeSlice(slice) {\n      offset += slice.copy(buffer, offset);\n    }\n    function writeUInt8(i) {\n      offset = buffer.writeUInt8(i, offset);\n    }\n    function writeVarInt(i) {\n      varuint.encode(i, buffer, offset);\n      offset += varuint.encode.bytes;\n    }\n    function writeVarSlice(slice) {\n      writeVarInt(slice.length);\n      writeSlice(slice);\n    }\n    writeUInt8(this.sigType);\n    writeVarSlice(this.pubKeyData);\n    writeVarSlice(this.oneSignature);\n    // avoid slicing unless necessary\n    if (initialOffset !== undefined) return noBuffer ? buffer.slice(initialOffset, offset) : offset;\n    // TODO (https://github.com/BitGo/bitgo-utxo-lib/issues/11): we shouldn't have to slice the final buffer\n    return noBuffer ? buffer.slice(0, offset) : offset;\n  };\n  return SmartTransactionSignature;\n}();\nmodule.exports = SmartTransactionSignature;","map":{"version":3,"names":["Buffer","require","varuint","SmartTransactionSignature","version","sigType","pubKeyData","oneSignature","prototype","fromBuffer","buffer","initialOffset","offset","readSlice","n","slice","readUInt8","i","readVarInt","vi","decode","bytes","readVarSlice","__byteLength","encodingLength","length","toBuffer","noBuffer","allocUnsafe","writeSlice","copy","writeUInt8","writeVarInt","encode","writeVarSlice","undefined","module","exports"],"sources":["/Users/oddfl3x/Code/varB/NATIBridgeWebsite-main/node_modules/@bitgo/utxo-lib/dist/src/smart_transaction_signature.js"],"sourcesContent":["var Buffer = require('safe-buffer').Buffer;\nvar varuint = require('varuint-bitcoin');\nvar SmartTransactionSignature = /** @class */ (function () {\n    function SmartTransactionSignature(version, sigType, pubKeyData, oneSignature) {\n        if (version === void 0) { version = 1; }\n        if (sigType === void 0) { sigType = 1; }\n        this.sigType = sigType;\n        this.pubKeyData = pubKeyData;\n        if (oneSignature != null) {\n            this.oneSignature = oneSignature;\n        }\n        else {\n            this.oneSignature = new Buffer(0);\n        }\n    }\n    SmartTransactionSignature.prototype.fromBuffer = function (buffer, initialOffset) {\n        var offset = initialOffset || 0;\n        function readSlice(n) {\n            offset += n;\n            return buffer.slice(offset - n, offset);\n        }\n        function readUInt8() {\n            var i = buffer.readUInt8(offset);\n            offset += 1;\n            return i;\n        }\n        function readVarInt() {\n            var vi = varuint.decode(buffer, offset);\n            offset += varuint.decode.bytes;\n            return vi;\n        }\n        function readVarSlice() {\n            return readSlice(readVarInt());\n        }\n        this.sigType = readUInt8();\n        this.pubKeyData = readVarSlice();\n        this.oneSignature = readVarSlice();\n        return offset;\n    };\n    SmartTransactionSignature.prototype.__byteLength = function () {\n        return 1 +\n            varuint.encodingLength(this.pubKeyData.length) + this.pubKeyData.length +\n            varuint.encodingLength(this.oneSignature.length) + this.oneSignature.length;\n    };\n    SmartTransactionSignature.prototype.toBuffer = function (buffer, initialOffset) {\n        var noBuffer = !buffer;\n        if (noBuffer)\n            buffer = Buffer.allocUnsafe(this.__byteLength());\n        var offset = initialOffset || 0;\n        function writeSlice(slice) { offset += slice.copy(buffer, offset); }\n        function writeUInt8(i) { offset = buffer.writeUInt8(i, offset); }\n        function writeVarInt(i) {\n            varuint.encode(i, buffer, offset);\n            offset += varuint.encode.bytes;\n        }\n        function writeVarSlice(slice) { writeVarInt(slice.length); writeSlice(slice); }\n        writeUInt8(this.sigType);\n        writeVarSlice(this.pubKeyData);\n        writeVarSlice(this.oneSignature);\n        // avoid slicing unless necessary\n        if (initialOffset !== undefined)\n            return noBuffer ? buffer.slice(initialOffset, offset) : offset;\n        // TODO (https://github.com/BitGo/bitgo-utxo-lib/issues/11): we shouldn't have to slice the final buffer\n        return noBuffer ? buffer.slice(0, offset) : offset;\n    };\n    return SmartTransactionSignature;\n}());\nmodule.exports = SmartTransactionSignature;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}